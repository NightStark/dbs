#lib dir do in summer ok....
#VER = 0
#SUBVER = 1
#DEVE = 1


ifeq ($(ARCH),arm)
	CROSS=arm-linux-
else
    CROSS=mips-linux-
endif

OBJ_CLEAN=

#Delete Object file or not,after ar
ifeq ($(OBJ_CLEAN), clean)
	OC=\#
else
	OC=
endif

export OC

CC=$(CROSS)gcc
LD=$(CROSS)ld

#-fpic : 位置无关码就是可以在进程的任意内存位置执行的目标码
CFLAGS =  -g -lpthread -I $(INCLUDE_DIR) -fpic -lm -Wall
INCLUDE_DIR=${PWD}/include/lib/
OBJ_FLAGS =  -g -lpthread -I $(INCLUDE_DIR) -fpic -lm -Wall


export CC
export LD
export CFLAGS
export OBJ_FLAGS
export INCLUDE_DIR

LIB_WEB_SERVER=libwebs.so
export LIB_WEB_SERVER

WEBSER_TARGET:$(LIB_WEB_SERVER)
	@echo "make WebServer process"	\
	@echo $(LIB_WEB_SERVER)
	
$(LIB_WEB_SERVER):
	cd ./lib/ && $(MAKE)

clean:
	find . -name "*.o" | xargs rm -rf	
	find . -name "*.a" | xargs rm -rf

	


